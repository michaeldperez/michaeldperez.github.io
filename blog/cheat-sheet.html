<!DOCTYPE html>
<html>
    <head>
        <title>Ruby Enumerables Cheat Sheet</title>
        <link rel = "stylesheet" type = "text/css" href = "../stylesheets/cheat-sheet.css"/>
        <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    </head>
    <body>
        <h1>Ruby Enumerables</h1>
        <h2>by Tony Mai and Michael Perez</h2>
        <section>
          <h3>#all?</h3>
          <div class = "definition">
            <p>Passes each element of the collection to the given block. The method returns true if the block never returns false or nil. If the block is not given, Ruby adds an implicit block of { |obj| obj } which will cause all? to return true when none of the collection members are false or nil.</p>
          </div>
          <pre class = "prettyprint lang-rb">
%w[ant bear cat].all? { |word| word.length >= 3 } #=> true
%w[ant bear cat].all? { |word| word.length >= 4 } #=> false
[nil, true, 99].all?                              #=> false
          </pre>
        </section>
        <section>
          <h3>#any?</h3>
          <div class = "definition">
            <p>Passes each element of the collection to the given block. The method returns true if the block ever returns a value other than false or nil. If the block is not given, Ruby adds an implicit block of { |obj| obj } that will cause any? to return true if at least one of the collection members is not false or nil.</p>
          </div>
          <pre class = "prettyprint lang-rb">
%w[ant bear cat].any? { |word| word.length >= 3 } #=> true
%w[ant bear cat].any? { |word| word.length >= 4 } #=> true
[nil, true, 99].any?                              #=> true
          </pre>
        </section>
        <section>
          <h3>#cycle</h3>
            <div class = "definition">
              <p>Calls block for each element of enum repeatedly n times or forever if none or nil is given. If a non-positive number is given or the collection is empty, does nothing. Returns nil if the loop has finished without getting interrupted.</p>
              <p>#cycle saves elements in an internal array so changes to enum after the first pass have no effect.</p>
              <p>If no block is given, an enumerator is returned instead.</p>
            </div>
            <pre class = "prettyprint lang-rb">
a = ["a", "b", "c"]
a.cycle { |x| puts x }  # print, a, b, c, a, b, c,.. forever.
a.cycle(2) { |x| puts x }  # print, a, b, c, a, b, c.</pre>
        </section>
        <section>
          <h3>#group_by</h3>
            <div class = "definition">
              <p>Groups the collection by result of the block. Returns a hash where the keys are the evaluated result from the block and the values are arrays of elements in the collection that correspond to the key.</p>
              <p>If no block is given an enumerator is returned.</p>
            </div>
            <pre class = "prettyprint lang-rb">
(1..6).group_by { |i| i%3 }   #=> {0=>[3, 6], 1=>[1, 4], 2=>[2, 5]}
            </pre>
        </section>
        <section>
          <h3>#include?</h3>
            <div class = "definition">
              <p>Returns true if any member of enum equals obj. Equality is tested using ==.</p>
            </div>
            <pre class = "prettyprint lang-rb">
arr = [1,2,3,4,5]
arr.include?(3) #=> true
arr.include?(6) #=> false
            </pre>
        </section>
        <section>
          <h3>#inject</h3>
            <div class = "definition">
              <p>Combines all elements of enum by applying a binary operation, specified by a block or a symbol that names a method or operator.</p>
              <p>If you specify a block, then for each element in enum the block is passed an accumulator value (memo) and the element. If you specify a symbol instead, then each element in the collection will be passed to the named method of memo. In either case, the result becomes the new value for memo. At the end of the iteration, the final value of memo is the return value for the method.</p>
              <p>If you do not explicitly specify an initial value for memo, then the first element of collection is used as the initial value of memo.</p>
            </div>
            <pre class = "prettyprint lang-rb">
# Sum some numbers
(5..10).reduce(:+)                             #=> 45
# Same using a block and inject
(5..10).inject { |sum, n| sum + n }            #=> 45
# Multiply some numbers
(5..10).reduce(1, :*)                          #=> 151200
# Same using a block
(5..10).inject(1) { |product, n| product * n } #=> 151200
# find the longest word
longest = %w{ cat sheep bear }.inject do |memo, word|
    memo.length > word.length ? memo : word
end
longest                                        #=> "sheep"
            </pre>
        </section>
        <section>
          <h3>#map</h3>
            <div class = "definition">
              <p>Returns a new array with the results of running block once for every element in enum. If no block is given, an enumerator is returned instead.</p>
              <p>If no block is given, an enumerator is returned instead.</p>
            </div>
            <pre class = "prettyprint lang-rb">
(1..4).map { |i| i*i }  #=> [1, 4, 9, 16]
            </pre>
        </section>
        <section>
            <h3>#none?</h3>
              <div class = "definition">
                <p>Passes each element of the collection to the given block. The method returns true if the block never returns true for all elements. If the block is not given, none? will return true only if none of the collection members is true.</p>
              </div>
                <pre class = "prettyprint lang-rb">
%w{ant bear cat}.none? { |word| word.length == 5 } #=> true
%w{ant bear cat}.none? { |word| word.length >= 4 } #=> false
[].none?                                           #=> true
[nil].none?                                        #=> true
[nil, false].none?                                 #=> true
                </pre>
        </section>
        <section>
            <h3>#select</h3>
              <div class = "definition">
                <p>Returns an array containing all elements of enum for which the given block returns a true value</p>
                <p>If no block is given, an Enumerator is returned instead.</p>
            </div>
                <pre class = "prettyprint lang-rb">
(1..10).find_all { |i|  i % 3 == 0 }   #=> [3, 6, 9]
[1,2,3,4,5].select { |num|  num.even?  }   #=> [2, 4]
                </pre>
        </section>
        <section>
          <h3>#sort</h3>
            <div class = "definition">
              <p>Returns an array containing the items in enum sorted, either according to their own <=> method, or by using the results of the supplied block. The block should return -1, 0, or +1 depending on the comparison between a and b. As of Ruby 1.8, the method Enumerable#sort_by implements a built-in Schwartzian Transform, useful when key computation or comparison is expensive.</p>
            </div>
            <pre class = "prettyprint lang-rb">
%w(rhea kea flea).sort          #=> ["flea", "kea", "rhea"]
(1..10).sort { |a, b| b <=> a }  #=> [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]
            </pre>
        </section>
    </body>
</html>